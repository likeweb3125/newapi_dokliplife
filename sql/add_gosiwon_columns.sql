-- =============================================
-- gosiwon 테이블 컬럼 추가 SQL
-- =============================================

-- is_favorite 컬럼 추가
-- 즐겨찾기 여부를 저장하는 컬럼 (0: 일반, 1: 즐겨찾기)
-- 주의: 이미 컬럼이 존재하는 경우 오류가 발생할 수 있습니다.
ALTER TABLE `gosiwon` 
ADD COLUMN `is_favorite` INT(11) NULL DEFAULT NULL COMMENT '즐겨찾기 0/1' 
AFTER `district`;

-- =============================================
-- 인덱스 추가 (성능 최적화)
-- =============================================

-- is_favorite 인덱스 추가 (즐겨찾기별 조회 최적화)
-- 주의: 이미 인덱스가 존재하는 경우 오류가 발생할 수 있습니다.
CREATE INDEX `idx_gosiwon_is_favorite` ON `gosiwon` (`is_favorite`);

-- =============================================
-- 참고사항
-- =============================================

-- 기존 데이터가 있는 경우, 컬럼 추가 후 기본값 설정이 필요할 수 있습니다.
-- 예시:
-- UPDATE `gosiwon` SET `is_favorite` = 0 WHERE `is_favorite` IS NULL;

